<!DOCTYPE html>
<html lang="no">
<head>
<meta charset="UTF-8">
<title>Kalender - Fjellstad Rollespill</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="icon" href="logo.png">

<style>
body{
    margin:0;
    background:#0a0e1a;
    color:white;
    font-family:Inter,sans-serif;
}

/* Header */
header{
    position:fixed;top:0;width:100%;
    background:rgba(10,14,26,.85);
    border-bottom:1px solid rgba(255,255,255,.15);
    backdrop-filter:blur(15px);
    padding:15px 0;
}
nav{
    display:flex;justify-content:space-between;align-items:center;
    max-width:1100px;margin:auto;padding:0 15px;
}
nav ul{display:flex;gap:1.8rem;list-style:none;}
nav a{color:#ddd;text-decoration:none;transition:.2s;}
nav a:hover{color:white;}

/* Page content */
.container{
    max-width:900px;margin:120px auto;text-align:center;
}
h1{
    font-size:3rem;margin-bottom:20px;
    background:linear-gradient(90deg,#6e7dfb,#7b45d0);
    -webkit-background-clip:text;-webkit-text-fill-color:transparent;
}

/* Calendar grid */
.calendar{
    margin-top:20px;
    display:grid;
    grid-template-columns:repeat(7,1fr);
    gap:6px;
}
.day-name{
    opacity:.8;font-weight:700;padding:8px;
}
.day{
    height:95px;border-radius:10px;
    background:rgba(255,255,255,.07);
    border:1px solid rgba(255,255,255,.15);
    text-align:left;padding:7px;position:relative;
    cursor:pointer;transition:.15s;
}
.day:hover{background:rgba(255,255,255,.18);transform:scale(1.05);}
.today{border:2px solid #7bc9ff;}
.empty{opacity:0;pointer-events:none;}

.event-dot{
    width:10px;height:10px;border-radius:999px;
    background:#7bc9ff;position:absolute;bottom:6px;right:6px;
}

/* month header */
.monthbar{display:flex;justify-content:center;align-items:center;gap:20px;margin-bottom:15px;}
.btn{
    background:rgba(255,255,255,.1);
    border:1px solid rgba(255,255,255,.3);
    padding:6px 12px;border-radius:6px;cursor:pointer;
}
.btn:hover{background:white;color:black;}

/* popup */
#modal{
    display:none;position:fixed;inset:0;background:#0009;
    align-items:center;justify-content:center;
}
.modal-box{
    background:#111a2c;padding:25px;border-radius:12px;width:280px;text-align:center;
}
</style>
</head>

<body>
<header>
<nav>
    <div style="font-size:1.4rem;font-weight:800;">ðŸ“… Kalender</div>
    <ul>
        <li><a href="index.html">Hjem</a></li>
        <li><a style="color:white">Kalender</a></li>
    </ul>
</nav>
</header>

<div class="container">

    <h1>Event Kalender</h1>

    <div class="monthbar">
        <div class="btn" onclick="prevMonth()">â¬…</div>
        <div id="monthYear" style="font-size:1.7rem;font-weight:700;"></div>
        <div class="btn" onclick="nextMonth()">âž¡</div>
    </div>

    <!-- Kalender grid -->
    <div class="calendar" id="calendar">
        <div class="day-name">Man</div>
        <div class="day-name">Tir</div>
        <div class="day-name">Ons</div>
        <div class="day-name">Tor</div>
        <div class="day-name">Fre</div>
        <div class="day-name">LÃ¸r</div>
        <div class="day-name">SÃ¸n</div>
    </div>
</div>

<!-- EVENT POPUP -->
<div id="modal">
    <div class="modal-box">
        <h2 id="eventTitle"></h2>
        <p id="eventText"></p>
        <button class="btn" onclick="modal.style.display='none'">Lukk</button>
    </div>
</div>

<script>
let events=[
    {dato:"2025-02-01",tittel:"Ã…pningsfest ðŸŽ‰",tekst:"Server launch event"},
    {dato:"2025-02-10",tittel:"Heist Event ðŸ’°",tekst:"Stor RP aktivitet"},
    {dato:"2025-02-15",tittel:"Biltreff ðŸš—",tekst:"Samling, premie til fineste bil"},
];

let d=new Date();

function loadCalendar(){
    const year=d.getFullYear(),month=d.getMonth();
    document.getElementById("monthYear").innerHTML=
        d.toLocaleString("no-NO",{month:"long"})+" "+year;

    const first=(new Date(year,month,1).getDay()||7)-1;
    const last=new Date(year,month+1,0).getDate();

    let html=document.querySelector("#calendar").innerHTML=
        document.querySelector("#calendar").innerHTML.slice(0,document.querySelector("#calendar").innerHTML.indexOf("</div></div>")+6);

    let blank=first;
    while(blank--) addDay("",true);

    for(let i=1;i<=last;i++){
        let date=`${year}-${String(month+1).padStart(2,'0')}-${String(i).padStart(2,'0')}`;
        addDay(i,false,date);
    }
}

function addDay(n,empty,date){
    const cal=document.getElementById("calendar");
    if(empty){
        cal.innerHTML+=`<div class="day empty"></div>`;
    }else{
        let e=events.find(ev=>ev.dato===date);
        let today=new Date();
        let cls=(n==today.getDate()&&d.getMonth()==today.getMonth()&&d.getFullYear()==today.getFullYear())?"today":"";
        cal.innerHTML+=`
        <div class="day ${cls}" onclick="${e?`showEvent('${e.tittel}','${e.tekst}')`:""}">
            ${n}
            ${e?'<div class="event-dot"></div>':""}
        </div>`;
    }
}

function showEvent(t,x){
    eventTitle.innerHTML=t;
    eventText.innerHTML=x;
    modal.style.display="flex";
}

function prevMonth(){d.setMonth(d.getMonth()-1);loadCalendar();}
function nextMonth(){d.setMonth(d.getMonth()+1);loadCalendar();}

loadCalendar();
</script>

</body>
</html>
