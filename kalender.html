<!DOCTYPE html>
<html lang="no">
<head>
<meta charset="UTF-8">
<title>Kalender - Fjellstad Rollespill</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="icon" href="logo.png">

<style>
body{
    margin:0;
    background:#0a0e1a;
    color:white;
    font-family:Inter,sans-serif;
}

/* Header */
header{
    position:fixed;top:0;width:100%;
    background:rgba(10,14,26,.85);
    border-bottom:1px solid rgba(255,255,255,.15);
    backdrop-filter:blur(15px);
    padding:15px 0;
}
nav{
    display:flex;justify-content:space-between;align-items:center;
    max-width:1100px;margin:auto;padding:0 15px;
}
nav ul{display:flex;gap:1.8rem;list-style:none;}
nav a{color:#ddd;text-decoration:none;transition:.2s;}
nav a:hover{color:white;}

/* Page content */
.container{
    max-width:900px;margin:120px auto;text-align:center;
}
h1{
    font-size:3rem;margin-bottom:20px;
    background:linear-gradient(90deg,#6e7dfb,#7b45d0);
    -webkit-background-clip:text;-webkit-text-fill-color:transparent;
}

/* Month bar */
.monthbar{
    display:flex;justify-content:center;align-items:center;
    gap:20px;margin-bottom:20px;
    font-size:1.7rem;font-weight:700;
}
.btn{
    background:rgba(255,255,255,.1);
    border:1px solid rgba(255,255,255,.3);
    padding:6px 12px;border-radius:6px;cursor:pointer;
    transition:.2s;
}
.btn:hover{background:white;color:black;}

/* Calendar grid */
.calendar{
    display:grid;
    grid-template-columns:repeat(7,1fr);
    gap:6px;
    margin-top:10px;
}
.day-name{
    opacity:.8;font-weight:700;padding:8px;
}
.day{
    height:95px;border-radius:10px;
    background:rgba(255,255,255,.07);
    border:1px solid rgba(255,255,255,.15);
    text-align:left;padding:7px;position:relative;
    cursor:pointer;transition:.15s;
}
.day:hover{background:rgba(255,255,255,.18);transform:scale(1.05);}
.empty{opacity:0;pointer-events:none;}
.today{border:2px solid #7bc9ff;}

.event-dot{
    width:10px;height:10px;border-radius:999px;
    background:#7bc9ff;position:absolute;bottom:6px;right:6px;
}

/* Popup */
#modal{
    display:none;position:fixed;inset:0;background:#0009;
    align-items:center;justify-content:center;
}
.modal-box{
    background:#111a2c;padding:25px;border-radius:12px;width:280px;text-align:center;
}
.modal-box h2{margin-top:0;}
</style>
</head>

<body>
<header>
<nav>
    <div style="font-size:1.4rem;font-weight:800;">ðŸ“… Kalender</div>
    <ul>
        <li><a href="index.html">Hjem</a></li>
        <li><a style="color:white">Kalender</a></li>
    </ul>
</nav>
</header>

<div class="container">

    <h1>Event Kalender</h1>

    <div class="monthbar">
        <div class="btn" onclick="prevMonth()">â¬…</div>
        <div id="monthYear"></div>
        <div class="btn" onclick="nextMonth()">âž¡</div>
    </div>

    <div class="calendar">
        <div class="day-name">Man</div>
        <div class="day-name">Tir</div>
        <div class="day-name">Ons</div>
        <div class="day-name">Tor</div>
        <div class="day-name">Fre</div>
        <div class="day-name">LÃ¸r</div>
        <div class="day-name">SÃ¸n</div>

        <div id="days" style="grid-column: span 7;"></div>
    </div>
</div>

<!-- EVENT POPUP -->
<div id="modal">
    <div class="modal-box">
        <h2 id="eventTitle"></h2>
        <p id="eventText"></p>
        <button class="btn" onclick="closeModal()" style="margin-top:10px;">Lukk</button>
    </div>
</div>

<script>
// ================== Arrangementer ==================
let events = [
    { dato:"2025-02-01", tittel:"Ã…pningsfest ðŸŽ‰", tekst:"Offisiell serverÃ¥pning!" },
    { dato:"2025-02-10", tittel:"Heist Event ðŸ’°", tekst:"Gjenger gjÃ¸r opp om pengene." },
    { dato:"2025-02-15", tittel:"Biltreff ðŸš—", tekst:"Premie til fineste bil!" },
];

// ================== Kalender kode ==================
let date = new Date();

function loadCalendar(){
    const year = date.getFullYear();
    const month = date.getMonth();

    document.getElementById("monthYear").innerText =
        date.toLocaleString("no-NO", {month:"long", year:"numeric"});

    const firstDay = (new Date(year,month,1).getDay()+6)%7;
    const lastDay  = new Date(year,month+1,0).getDate();

    let html = "";

    // tomme ruter fÃ¸r dag 1
    for(let i=0;i<firstDay;i++){
        html += `<div class="day empty"></div>`;
    }

    // faktiske datoer
    for(let i=1;i<=lastDay;i++){
        const dateStr = `${year}-${String(month+1).padStart(2,"0")}-${String(i).padStart(2,"0")}`;
        const ev = events.find(e=>e.dato===dateStr);

        const today = new Date();
        const highlight =
            i===today.getDate() &&
            month===today.getMonth() &&
            year===today.getFullYear() ? "today" : "";

        html += `
        <div class="day ${highlight}" onclick="${ev ? `showEvent('${ev.tittel}','${ev.tekst}')`:""}">
            ${i}
            ${ev?`<div class='event-dot'></div>`:""}
        </div>`;
    }

    document.getElementById("days").innerHTML = html;
}

// ================== Modal ==================
function showEvent(t,t2){
    document.getElementById("eventTitle").innerText = t;
    document.getElementById("eventText").innerText  = t2;
    document.getElementById("modal").style.display  = "flex";
}
function closeModal(){
    document.getElementById("modal").style.display = "none";
}

// ================== Navigasjon ==================
function prevMonth(){date.setMonth(date.getMonth()-1);loadCalendar();}
function nextMonth(){date.setMonth(date.getMonth()+1);loadCalendar();}

loadCalendar();
</script>

</body>
</html>
